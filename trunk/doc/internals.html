<html><head>
<!-- $Id$ -->
<title>GridFlow 0.7.2 - reference</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="jmax.css" type="text/css">
</head>
<body bgcolor="#FFFFFF"
  leftmargin="0" topmargin="0"
  marginwidth="0" marginheight="0">
<table width="100%" bgcolor="white" border="0" cellspacing="2">
<tr><td colspan="4" bgcolor="#082069">
<img src="images/titre_gridflow.png" width="253" height="23">
</td></tr><tr><td>&nbsp;</td></tr>
<tr><td colspan="4" bgcolor="black">
<img src="images/black.png" width="1" height="2"></td></tr>
<tr><td colspan="4" height="16"> 
    <h4>GridFlow 0.7.2 - index of this page:</h4>
</td></tr>
<tr> 
  <td width="5%"  rowspan="2">&nbsp;</td>
  <td width="15%" height="23">&nbsp;</td>
  <td width="80%" height="23">&nbsp;</td>
  <td width="5%"  height="23">&nbsp;</td>
</tr>
<tr><td colspan="2"><h4><a href="#notes">notes</a></h4><ul>
</ul>
<h4><a href="#Objects_for_Scripting">Objects for Scripting</a></h4><ul>
<li><a href="#ruby class FObject extending Data">ruby class FObject extending Data</a></li>
<li><a href="#ruby class GridObject extending FObject">ruby class GridObject extending FObject</a></li>
<li><a href="#ruby class BitPacking">ruby class BitPacking</a></li>
<li><a href="#FPatcher extending FObject">FPatcher extending FObject</a></li>
</ul>
<h4><a href="#Objects_for_Internals">Objects for Internals</a></h4><ul>
<li><a href="#C++ class GridInlet">C++ class GridInlet</a></li>
<li><a href="#C++ class GridOutlet">C++ class GridOutlet</a></li>
<li><a href="#C++ class Dim">C++ class Dim</a></li>
<li><a href="#C++ class Grid">C++ class Grid</a></li>
<li><a href="#C++ class Operator1">C++ class Operator1</a></li>
<li><a href="#C++ class Operator2">C++ class Operator2</a></li>
<li><a href="#C++ class GridClass">C++ class GridClass</a></li>
<li><a href="#C++ class GFBridge">C++ class GFBridge</a></li>
</ul>
<br><br>
</td></tr> 
<tr><td colspan="4" bgcolor="black">
<img src="images/black.png" width="1" height="2"></td></tr>
<tr><td colspan="4"><a name="notes"></a><h4>notes</h4></td></tr><tr><td></td><td></td><td> 
</td></tr>
<tr><td></td><td></td><td><p>In Ruby, GridFlow defines a namespace (module) called GridFlow. Most  of the 
constants it defines are part of that namespace. A GridFlow object is normally 
in two or three parts: a (Ruby) GridFlow::FObject that is the central part; a 
(C++) GridObject; a (C++/jMax) BFObject. The GridFlow::FObject is created as a 
RData kind of box using Ruby-C's Data_Make_Struct on a GridObject. This is how 
most Ruby-C programs inherit from Ruby classes. Note that Ruby's boxed objects 
have a maximum of five fields, and they're usually taken, so additional fields 
have to be outside of it. This is why RData exists.</p></td></tr>
<tr><td></td><td></td><td> 
</td></tr>
<tr><td></td><td></td><td><p>So basically you have a GridObject that is "part of" a GridFlow::FObject and 
they point to each other using peer pointers. Now, if jMax is enabled, then the 
GridObject will have an additional pointer to a fts_object_t derivative called 
BFObject (B for Bridge); that pointer is called foreign_peer. The BFObject 
links back to the RData box through another pointer called peer. </p></td></tr>
<tr><td></td><td></td><td> 
</td></tr>
<tr><td>&nbsp;</td></tr>
 
<tr><td colspan="4" bgcolor="black">
<img src="images/black.png" width="1" height="2"></td></tr>
<tr><td colspan="4"><a name="Objects_for_Scripting"></a><h4>Objects for Scripting</h4></td></tr><tr><td></td><td></td><td> </td></tr>
<tr><td colspan="4" bgcolor="#ffb080"><b>&nbsp;&nbsp;class </b><a name="ruby class FObject extending Data">ruby class FObject extending Data</a></td></tr><tr><td></td><td valign="top"><br>
<br clear="left"><br><br><br clear="left"><br></td><td><br>
 
		Provides inlets and outlets to Ruby Objects. <br><b>method</b> init <b>(</b><b>)</b>  <br>
 <br><b>method</b> send_in <b>(</b><i>int</i> inlet<b>, </b>message...<b>)</b>    <br>
 <br><b>method</b> send_out <b>(</b><i>int</i> outlet<b>, </b>message...<b>)</b>    <br>
 <br></td></tr><tr><td></td><td></td><td> </td></tr>
<tr><td colspan="4" bgcolor="#ffb080"><b>&nbsp;&nbsp;class </b><a name="ruby class GridObject extending FObject">ruby class GridObject extending FObject</a></td></tr><tr><td></td><td valign="top"><br>
<br clear="left"><br><br><br clear="left"><br></td><td><br>
 
		Provides grid support to FObjects. <br><b>method</b> inlet_dim <b>(</b><i>Integer</i> inlet<b>)</b>   
			gives an array of Integers (dimension list) <br>
 <br><b>method</b> inlet_nt <b>(</b><i>Integer</i> inlet<b>)</b>   
			gives a Symbol (number type) <br>
 <br><b>method</b> inlet_set_factor <b>(</b><i>Integer</i> inlet<b>, </b><i>Integer</i> factor<b>)</b>    
			ensures received packets have a size that is 
			a whole multiple of this size. 
			must be called from rgrid_begin. <br>
 <br><b>method</b> send_out_grid_begin <b>(</b><i>Integer</i> outlet<b>, </b><i>Array of Integer</i> dimensions<b>, </b><i>number type</i> nt<b>)</b>     
			establishes grid streams between an outlet and all inlets 
			connected to it. <br>
 <br><b>method</b> send_out_grid_flow <b>(</b><i>Integer</i> outlet<b>, </b><i>String</i> data<b>)</b>    
			for sending a grid data packet through that outlet. <br>
 <br><b>method</b> send_out_grid_end <b>(</b><i>Integer</i> outlet<b>)</b>   
			(isn't this one obsolete?) <br>
  <br><b>inlet 0 </b><b>method</b> rgrid_begin <b>(</b><b>)</b> <br>
 <br><b>inlet 0 </b><b>method</b> rgrid_flow <b>(</b><i>String</i> data<b>)</b>   <br>
 <br><b>inlet 0 </b><b>method</b> rgrid_end <b>(</b><b>)</b> <br>
  <br></td></tr><tr><td></td><td></td><td> </td></tr>
<tr><td colspan="4" bgcolor="#ffb080"><b>&nbsp;&nbsp;class </b><a name="ruby class BitPacking">ruby class BitPacking</a></td></tr><tr><td></td><td valign="top"><br>
<br clear="left"><br><br><br clear="left"><br></td><td><br>
 
		A BitPacking is a simple two-way converter between different 
		numeric layouts. <br></td></tr><tr><td></td><td></td><td> </td></tr>
<tr><td colspan="4" bgcolor="#ffb080"><b>&nbsp;&nbsp;class </b><a name="FPatcher extending FObject">FPatcher extending FObject</a></td></tr><tr><td></td><td valign="top"><br>
<br clear="left"><br><br><br clear="left"><br></td><td><br>
 <p>This class is much like jMax's templates and subpatchers and 
		PureData's abstractions.</p> <p>This is a container for objects. Its proper objects are numbered 
		starting with zero. The wire list is given in terms of those numbers: 
		(sourceobject,sourceinlet,destobject,destinlet). There is a 
		pseudo-object numbered #-1 which map to the container's own inlets 
		and outlets.</p> <br></td></tr><tr><td></td><td></td><td> 
</td></tr>
<tr><td>&nbsp;</td></tr>
 
<tr><td colspan="4" bgcolor="black">
<img src="images/black.png" width="1" height="2"></td></tr>
<tr><td colspan="4"><a name="Objects_for_Internals"></a><h4>Objects for Internals</h4></td></tr><tr><td></td><td></td><td> </td></tr>
<tr><td colspan="4" bgcolor="#ffb080"><b>&nbsp;&nbsp;class </b><a name="C++ class GridInlet">C++ class GridInlet</a></td></tr><tr><td></td><td valign="top"><br>
<br clear="left"><br><br><br clear="left"><br></td><td><br>
 
		GridInlets represent inlets that accept grids. <br></td></tr><tr><td></td><td></td><td> </td></tr>
<tr><td colspan="4" bgcolor="#ffb080"><b>&nbsp;&nbsp;class </b><a name="C++ class GridOutlet">C++ class GridOutlet</a></td></tr><tr><td></td><td valign="top"><br>
<br clear="left"><br><br><br clear="left"><br></td><td><br>
 
		GridOutlets represent outlets that send grids. <br></td></tr><tr><td></td><td></td><td> </td></tr>
<tr><td colspan="4" bgcolor="#ffb080"><b>&nbsp;&nbsp;class </b><a name="C++ class Dim">C++ class Dim</a></td></tr><tr><td></td><td valign="top"><br>
<br clear="left"><br><br><br clear="left"><br></td><td><br>
 
		Dim represents a list of dimensions. <br></td></tr><tr><td></td><td></td><td> </td></tr>
<tr><td colspan="4" bgcolor="#ffb080"><b>&nbsp;&nbsp;class </b><a name="C++ class Grid">C++ class Grid</a></td></tr><tr><td></td><td valign="top"><br>
<br clear="left"><br><br><br clear="left"><br></td><td><br>
 
		Grid represents a grid that is fully stored in memory. <br></td></tr><tr><td></td><td></td><td> </td></tr>
<tr><td colspan="4" bgcolor="#ffb080"><b>&nbsp;&nbsp;class </b><a name="C++ class Operator1">C++ class Operator1</a></td></tr><tr><td></td><td valign="top"><br>
<br clear="left"><br><br><br clear="left"><br></td><td><br>
 
		This represents a one-input operator. 
		Such an object contains a map() function that applies the operator 
		over a memory segment. <br></td></tr><tr><td></td><td></td><td> </td></tr>
<tr><td colspan="4" bgcolor="#ffb080"><b>&nbsp;&nbsp;class </b><a name="C++ class Operator2">C++ class Operator2</a></td></tr><tr><td></td><td valign="top"><br>
<br clear="left"><br><br><br clear="left"><br></td><td><br>
 
		This represents a two-input operator. 
		Such an object contains four functions for each T, where 
		T is one of the types uint8, int16, int32, float32. <br><b>method</b> map <b>(</b><i>integer</i> n<b>, </b><i>T *</i> as<b>, </b><i>T</i> b<b>)</b>     
			for i in 0...n, 
			as[i] := f(as[i],b); 
			This is like [@] with a scalar righthand <br>
 <br><b>method</b> zip <b>(</b><i>integer</i> n<b>, </b><i>T *</i> as<b>, </b><i>T *</i> bs<b>)</b>     
			for i in 0...n, 
			as[i] := f(as[i],bs[i]); 
			bs is not modified. 
			(This is like [@] with a nonscalar righthand) <br>
 <br><b>method</b> fold <b>(</b><i>integer</i> an<b>, </b><i>integer</i> n<b>, </b><i>T *</i> as<b>, </b><i>T *</i> bs<b>)</b>      <p> 
			for i in 0...n, 
			for j in 0...an, 
			as[j] := f(as[j],bs[i*an+j]); </p> 
			(this is like @fold) <br>
 <br><b>method</b> scan <b>(</b><i>integer</i> an<b>, </b><i>integer</i> n<b>, </b><i>T *</i> as<b>, </b><i>T *</i> bs<b>)</b>      <p> for j in 0...an: bs[j] := f(as[j],bs[j]); </p> <p> for i in 1...n: for j in 0...an: 
				bs[j] := f(bs[(i-1)*an+j],bs[i*an+j]); </p> 
			(this is like @scan) <br>
 <br></td></tr><tr><td></td><td></td><td> </td></tr>
<tr><td colspan="4" bgcolor="#ffb080"><b>&nbsp;&nbsp;class </b><a name="C++ class GridClass">C++ class GridClass</a></td></tr><tr><td></td><td valign="top"><br>
<br clear="left"><br><br><br clear="left"><br></td><td><br>
 
		This represents a class of GridObjects. <br></td></tr><tr><td></td><td></td><td> </td></tr>
<tr><td colspan="4" bgcolor="#ffb080"><b>&nbsp;&nbsp;class </b><a name="C++ class GFBridge">C++ class GFBridge</a></td></tr><tr><td></td><td valign="top"><br>
<br clear="left"><br><br><br clear="left"><br></td><td><br>
 
		This holds linkage information about jMax and PureData and such. <br></td></tr><tr><td></td><td></td><td> 
</td></tr>
<tr><td>&nbsp;</td></tr>
 
<td colspan="4" bgcolor="black">
<img src="images/black.png" width="1" height="2"></td></tr>
<tr><td colspan="4"> 
<p><font size="-1">
GridFlow 0.7.2 Documentation<br>
by Mathieu Bouchard
<a href="mailto:matju@sympatico.ca">matju@artengine.ca</a>
and<br>
Alexandre Castonguay
<a href="mailto:acastonguay@artengine.ca">acastonguay@artengine.ca</a>
</font></p>
</td></tr></table></body></html>


