#!/usr/bin/env ruby

f = File.read("compose-8859-1.pdd").split(/\s*;\s*/)
g = File.open("Makefile","w")
g.puts "default:: all"
g.puts ""
list = []

f.each {|char|
  a,b,c = char.split(/\s+/).map {|x| Integer x }
  [0,32].each {|o|
    g.puts "#{a+o}.hpgl: #{b+o}.hpgl #{c}.hpgl"
    g.puts "\tcat #{b+o}.hpgl #{c}.hpgl > #{a+o}.hpgl"
    g.puts ""
    list << "#{a+o}.hpgl"
  }
}

g.puts "all:: "+list.join(" ")
